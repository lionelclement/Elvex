/* **************************************************
 * Start
 ************************************************** */
@trace
S → [adj] n [adj]
{
  println ("init");
  foreach $i in <[a:a], [b:b]> {
        $x = $y;
        $y = $z;
        println "$i:", $i, ", $x:", $x, ", $y:", $y, ", $z:", $z;
        $z = $i;
    //foreach $j in <[c:c], [d:d]> {
    //    $xj = $yj;
    //    $yj = $zj;
    //    $zj = $x;
        //println ("$i: ", $i, ", $x:", $x, ", $j: ", $j, ", $xj:", $xj);
    //}
  }
  /***
  [HEAD:$P];
  ↓2 = ↑;
  deferred (⇓2) {
    [mod:$list, number:$inheritedNumber] ⊂ ↑;
    [gender:$synthesizedGender, number:$synthesizedNumber] ⊂ ⇓2;
    foreach $i in $list {
      $x = $y;
      $y = $z;
      $z = "xxx";
      //println ("$i: ", $i);
      <$lexiconHead::$lexiconTail> = search $i on adj;
      deferred ($lexiconHead)
        println ("$lexiconHead: ", $lexiconHead);
      [pos:$posSynthesized] ⊂ $lexiconHead;
      [pos:$posInherited] ⊂ $i;
        if ($posInherited){
          $pos = $posInherited;
        }
        else if ($posSynthesized) {
          $pos = $posSynthesized;
        }
        else {
          $pos = none;
        }
        if ($pos == pre){
          ↓1 = [gender:$synthesizedGender, number:$inheritedNumber, $i] U [number:$synthesizedNumber];
        }
        else if ($pos == post){
          ↓3 = [gender:$synthesizedGender, number:$inheritedNumber, $i] U [number:$synthesizedNumber];
        }
    }
  }
  //attest ($list => (#1 || #3));
  //attest (↓1 <=> #1);
  //attest (↓3 <=> #3);
  ***/
}
