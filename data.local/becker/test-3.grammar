@grammar

S → NP VP {
    [agent: $SUBJECT, $REST];
    ↓1 = $SUBJECT;
    [person:$personSynt, number:$numberSynt] ⊂ ⇓1;
    ↓2 = $REST ∪ [subject: [person:$personSynt, number:$numberSynt]];
}

NP → det noun {
    ↓1 = ↑ ∪ ⇓2;
    ↓2 = ↑;
    ⇑ = ⇓2 ∪ [person:three];
}

NP → pn {
    ↓1 = ↑;
    ⇑ = ⇓1 ∪ [person:three];
}

VP → verb NP {
    [patient: $OBJECT, $REST];
    ↓1 = $REST;
    ↓2 = $OBJECT;
    ⇑ = ⇓1;
}
